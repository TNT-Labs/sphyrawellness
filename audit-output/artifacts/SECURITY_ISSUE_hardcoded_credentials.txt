SECURITY ISSUE: Hardcoded Credentials in docker-compose.yml
============================================================

FILE: docker-compose.yml
LINES: 12-13, 46-47
SEVERITY: CRITICAL (Security Risk)

FINDING:
--------
CouchDB credentials are hardcoded in docker-compose.yml:
  - COUCHDB_USER=admin
  - COUCHDB_PASSWORD=password

LOCATION 1 (couchdb service):
    environment:
      - COUCHDB_USER=admin
      - COUCHDB_PASSWORD=password

LOCATION 2 (backend service):
    environment:
      - COUCHDB_USERNAME=admin
      - COUCHDB_PASSWORD=password

IMPACT:
-------
- Anyone with access to the repository can see default credentials
- If deployed as-is in production, attackers could access the database
- Credentials are visible in GitHub history
- No secret rotation mechanism

EVIDENCE:
---------
$ grep -n "COUCHDB_PASSWORD" docker-compose.yml
13:      - COUCHDB_PASSWORD=password
47:      - COUCHDB_PASSWORD=password

RECOMMENDED FIX:
----------------
1. Use environment variables from .env file (already partially done for SENDGRID)
2. Change docker-compose.yml to:
      - COUCHDB_USER=${COUCHDB_USER:-admin}
      - COUCHDB_PASSWORD=${COUCHDB_PASSWORD}
3. Add validation in docker-start.sh to check if password has been changed
4. Document in README that COUCHDB_PASSWORD must be set before production deploy
5. Add security warning in DOCKER_INSTALL_GUIDE.md (already present but could be stronger)

MITIGATION STATUS:
------------------
⚠️ Partially mitigated: 
  - .env.docker.example exists with instructions to change password
  - docker-start.sh checks for SENDGRID_API_KEY but not COUCHDB_PASSWORD
  - DOCKER_INSTALL_GUIDE.md warns to change password

❌ Still vulnerable:
  - Default values in docker-compose.yml make it easy to deploy with weak credentials
  - No automated check prevents deployment with default password

