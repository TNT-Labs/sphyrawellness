# ARTEFATTI NON VERIFICATI - Sphyra Wellness Audit
================================================================

Questo file elenca esattamente cosa NON è stato possibile verificare durante l'audit e quali credenziali/artefatti servono per completare la verifica.

## CREDENZIALI E CONFIGURAZIONI MANCANTI

### 1. SendGrid API Key (Email Reminders)
**Richiesto per**: Testare invio email reminder
**Cosa serve**:
- Account SendGrid (gratuito o a pagamento)
- API Key con permessi "Mail Send"
- Email mittente verificata in SendGrid

**Come ottenere**:
1. Registrarsi su https://sendgrid.com
2. Verifica email mittente: Settings → Sender Authentication
3. Creare API Key: Settings → API Keys
4. Configurare in .env: SENDGRID_API_KEY=SG.xxxxx

**Test non eseguiti**:
- Invio email reminder effettivo
- Template email rendering in client email reali
- Rate limiting SendGrid
- Gestione errori SendGrid (quota exceeded, invalid email, etc.)

### 2. CouchDB Remoto (Sincronizzazione Cloud)
**Richiesto per**: Testare sincronizzazione multi-dispositivo
**Cosa serve**:
- Istanza CouchDB accessibile via rete (porta 5984 esposta)
- Credenziali admin
- CORS configurato

**Alternative disponibili**:
- CouchDB locale con Docker (verificabile, ma non testato per limiti di tempo)
- IBM Cloudant (richiede account, non testato)

**Test non eseguiti**:
- Sincronizzazione bidirezionale real-time
- Conflict resolution
- Performance sync con dataset grande (>1000 records)
- Resilienza a disconnessioni di rete
- CORS headers verificati solo via documentazione

### 3. Dispositivi Fisici per PWA Testing
**Richiesto per**: Test PWA su dispositivi reali
**Cosa serve**:
- Smartphone Android (Chrome)
- iPhone/iPad (Safari)
- Tablet Android/iOS
- Connessione HTTPS (cert SSL o ngrok/localhost tunnel)

**Test non eseguiti**:
- Installazione PWA su home screen
- Comportamento offline su device reale
- Service Worker update su device
- Notifiche push su iOS/Android
- Gesture touch e interazioni mobile
- Fotocamera/GPS APIs (se usate)

### 4. Browser Cross-Browser Testing
**Richiesto per**: Verifica compatibilità multi-browser
**Ambiente attuale**: Headless Chromium disponibile
**Cosa serve**:
- Firefox Developer Edition
- Safari (richiede macOS)
- Edge (Windows)
- Mobile browsers (iOS Safari, Samsung Internet)

**Test non eseguiti**:
- Rendering cross-browser visivo
- Compatibilità CSS/JS su browser datati
- Performance comparison tra browser
- IndexedDB behavior su Safari (noto per limitazioni)

### 5. Lighthouse e Performance Audit
**Richiesto per**: Metriche performance oggettive
**Cosa serve**:
- Server HTTP attivo (vite dev o nginx con dist)
- Lighthouse CLI o Playwright lighthouse plugin

**Test non eseguiti**:
- TTFB, FCP, LCP, CLS, TTI metrics
- PWA score Lighthouse
- Accessibility score automatizzato
- Best practices score
- SEO score

**Comando da eseguire**:
```bash
npm run build
npm run preview &
npx lighthouse http://localhost:4173 --output=json --output-path=audit-output/artifacts/lighthouse.json
```

### 6. Docker Build e Runtime
**Richiesto per**: Verificare deployment Docker completo
**Cosa serve**:
- Docker e Docker Compose funzionanti
- .env configurato con credenziali valide
- Network access per pull immagini

**Test non eseguiti**:
- docker compose build (non eseguito per backend TypeScript error)
- docker compose up -d
- Healthchecks funzionanti
- Volume persistence
- Container logs analysis
- Network isolation
- Resource limits (memoria, CPU)

**Blocco attuale**: Backend TypeScript non compila → Docker build fallirebbe

### 7. E2E Testing con Playwright/Cypress
**Richiesto per**: Test automatizzati end-to-end
**Cosa serve**:
- Playwright o Cypress installato
- Server in esecuzione
- Test data fixtures
- Credenziali utente di test

**Test non eseguiti**:
- 101 CTA identificate ma NON testate automaticamente
- Flussi critici non verificati:
  * Login/logout
  * Creazione cliente
  * Prenotazione appuntamento
  * Modifica/cancellazione
  * Backup/restore
  * Sincronizzazione CouchDB
  * Invio reminder (mock)

**File generati**:
- audit-output/e2e/cta_inventory.csv (inventario, non test)

**Prossimi passi**:
```bash
npm install -D @playwright/test
npx playwright install chromium
# Creare file audit-output/e2e/*.spec.ts
npx playwright test
```

### 8. Pagamenti (se presenti)
**Richiesto per**: Testare integrazione gateway pagamento
**Stato attuale**: Codice presente in src/pages/Payments.tsx
**Analisi**: Sembra essere solo registrazione manuale pagamenti, NON integrazione con Stripe/PayPal

**Test non eseguiti**:
- Form registrazione pagamento (non testato con UI)
- Validazione importi
- Esportazione report pagamenti

### 9. Notifiche Push
**Richiesto per**: Testare notifiche browser/mobile
**Cosa serve**:
- Browser permission granted
- Service Worker attivo
- Server con supporto push notifications (es. Firebase)

**Stato attuale**:
- Codice presente: `Notification.requestPermission()` in Reminders.tsx
- Nessun server push backend identificato

**Test non eseguiti**:
- Richiesta permission
- Invio notifica di test
- Comportamento notification click

### 10. Accessibility Testing Automatizzato
**Richiesto per**: Verifica WCAG compliance
**Tool necessari**:
- axe-core o pa11y
- Screen reader testing (NVDA, JAWS, VoiceOver)

**Test non eseguiti**:
- Audit axe-core automatizzato
- Contrast ratio checks
- Keyboard navigation complete
- ARIA labels validation
- Focus management
- Screen reader testing

**Comando da eseguire**:
```bash
npm install -D axe-playwright
# Creare test Playwright con axe
```

---

## ORDINE DI PRIORITÀ PER COMPLETARE L'AUDIT

### Priority 1: CRITICAL (Blockers)
1. **Fix backend TypeScript error** → Abilita Docker build
2. **SendGrid test account** → Testa email reminder con mock
3. **Docker compose up** → Verifica stack completo

### Priority 2: HIGH (Production readiness)
4. **Lighthouse audit** → Performance metrics
5. **E2E tests per flussi critici** → Login, CRUD operations
6. **CouchDB locale Docker** → Test sync

### Priority 3: MEDIUM (UX e compatibilità)
7. **Accessibility audit con axe** → WCAG compliance
8. **Cross-browser visual testing** (almeno Firefox + Chrome)
9. **PWA su device Android/iOS reale** → Install + offline

### Priority 4: LOW (Nice to have)
10. **Notifiche push con mock server**
11. **I18n hardcoded strings** → Estrazione
12. **Performance profiling** → Memory leaks, slow queries

---

## NOTE FINALI

**Tempo stimato per completare tutto**: 16-24 ore
- Priority 1: 4-6 ore
- Priority 2: 6-8 ore
- Priority 3: 4-6 ore
- Priority 4: 2-4 ore

**Competenze richieste**:
- DevOps (Docker, nginx)
- Frontend testing (Playwright/Cypress)
- Backend Node.js
- Database (CouchDB)
- Email infrastructure (SendGrid)

**Budget stimato** (se servizi esterni):
- SendGrid Free tier: $0/mese (100 email/giorno)
- CouchDB Cloudant Free tier: $0/mese (1GB, 20 req/sec)
- Playwright Cloud (opzionale): ~$100/mese
- Totale: $0-100/mese per ambiente di test completo
