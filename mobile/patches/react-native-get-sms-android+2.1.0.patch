diff --git a/node_modules/react-native-get-sms-android/android/src/main/java/com/react/SmsModule.java b/node_modules/react-native-get-sms-android/android/src/main/java/com/react/SmsModule.java
index 1234567..abcdefg 100644
--- a/node_modules/react-native-get-sms-android/android/src/main/java/com/react/SmsModule.java
+++ b/node_modules/react-native-get-sms-android/android/src/main/java/com/react/SmsModule.java
@@ -1,6 +1,7 @@
 package com.react;

 import android.app.PendingIntent;
+import android.os.Build;
 import android.content.BroadcastReceiver;
 import android.content.ContentResolver;
 import android.content.ContentValues;
@@ -143,8 +144,16 @@ public class SmsModule extends ReactContextBaseJavaModule {
         ArrayList<PendingIntent> sentPendingIntents = new ArrayList<>();
         ArrayList<PendingIntent> deliveredPendingIntents = new ArrayList<>();

-        PendingIntent sentPI = PendingIntent.getBroadcast(context, 0, new Intent(SENT), 0);
-        PendingIntent deliveredPI = PendingIntent.getBroadcast(context, 0, new Intent(DELIVERED), 0);
+        // Android 12 (API 31) and above requires FLAG_IMMUTABLE or FLAG_MUTABLE
+        int flags = 0;
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.S) {
+            flags = PendingIntent.FLAG_IMMUTABLE;
+        }
+
+        PendingIntent sentPI = PendingIntent.getBroadcast(context, 0, new Intent(SENT), flags);
+        PendingIntent deliveredPI = PendingIntent.getBroadcast(context, 0, new Intent(DELIVERED), flags);
+
+        // Register receivers before sending

         context.registerReceiver(new BroadcastReceiver() {
             @Override
